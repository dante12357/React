import React, { useState } from 'react';
import { Link as RouterLink } from 'react-router-dom';
import PropTypes from 'prop-types';
import {AppBar, Toolbar, Badge, Hidden, IconButton} from '@material-ui/core';
import MenuIcon from '@material-ui/icons/Menu';
import NotificationsIcon from '@material-ui/icons/NotificationsOutlined';
import InputIcon from '@material-ui/icons/Input';
import { makeStyles } from '@material-ui/core/styles';
import { useTranslation } from 'react-i18next';

const useStyles = makeStyles(() => ({
  appBar: {
    boxShadow: 'none',
    backgroundColor: '#ffa500',
  },
  flexGrow: {
    flexGrow: 1
  },
  signOutButton: {
    marginLeft: '8px'
  }
}));
const Topbar = props => {

  const {  onSidebarOpen, ...rest } = props;
  const [notifications] = useState([]);
  const classes = useStyles();
  const { t, i18n } = useTranslation('translation');

  const changeLanguage= (lng) =>{
    i18n.changeLanguage(lng)
  }
  return (
    <AppBar
      {...rest}
      classes={{appBar:classes.appBar}}
    >
      <Toolbar>
        <RouterLink to="/">
          <svg className="logo__img" width="118" height="32" viewBox="0 0 118 32" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path className="logo__img-words"
                  d="M10.6992 32C8.6422 32 6.7989 31.5307 5.16929 30.592C3.53969 29.6533 2.27075 28.3642 1.36245 26.7248C0.454145 25.0854 0 23.261 0 21.2514C0 19.2418 0.454145 17.4173 1.36245 15.7779C2.27075 14.1385 3.53969 12.8495 5.16929 11.9108C6.7989 10.9721 8.6422 10.5027 10.6992 10.5027C12.7563 10.5027 14.5996 10.9787 16.2292 11.9306C17.8588 12.8825 19.1277 14.1781 20.036 15.8176C20.9443 17.457 21.3985 19.2682 21.3985 21.2514C21.3985 23.261 20.9443 25.0854 20.036 26.7248C19.1277 28.3642 17.8588 29.6533 16.2292 30.592C14.5996 31.5307 12.7563 32 10.6992 32ZM10.6992 27.4114C11.791 27.4114 12.8047 27.1632 13.7405 26.6668C14.6763 26.1705 15.4236 25.4562 15.9825 24.524C16.5414 23.5918 16.8208 22.4962 16.8208 21.2371C16.8208 19.9781 16.5414 18.8885 15.9825 17.9684C15.4236 17.0483 14.6763 16.3401 13.7405 15.8438C12.8047 15.3474 11.791 15.0992 10.6992 15.0992C9.60749 15.0992 8.59373 15.3474 7.65795 15.8438C6.72216 16.3401 5.97484 17.0483 5.41597 17.9684C4.8571 18.8885 4.57767 19.9781 4.57767 21.2371C4.57767 22.4962 4.8571 23.5918 5.41597 24.524C5.97484 25.4562 6.72216 26.1705 7.65795 26.6668C8.59373 27.1632 9.60749 27.4114 10.6992 27.4114ZM81.2724 10.5027C83.3294 10.5027 85.1727 10.9787 86.8023 11.9306C88.4319 12.8825 89.7009 14.1781 90.6092 15.8176C91.5175 17.457 91.9716 19.2682 91.9716 21.2514L91.9709 21.3066L91.9712 29.1839C91.9055 30.4002 90.905 31.3671 89.68 31.3671C88.7739 31.3671 87.9906 30.8381 87.6189 30.0704C87.358 30.2551 87.0856 30.4288 86.8023 30.592C85.1727 31.5307 83.3294 32 81.2724 32C79.2154 32 77.3721 31.5307 75.7425 30.592C74.1128 29.6533 72.8439 28.3642 71.9356 26.7248C71.0273 25.0854 70.5732 23.261 70.5732 21.2514C70.5732 19.2418 71.0273 17.4173 71.9356 15.7779C72.8439 14.1385 74.1128 12.8495 75.7425 11.9108C77.3721 10.9721 79.2154 10.5027 81.2724 10.5027ZM98.8927 0C100.129 0 101.137 0.985267 101.182 2.21782L101.184 2.3042L101.184 12.2746C101.374 12.148 101.57 12.0267 101.771 11.9108C103.4 10.9721 105.244 10.5027 107.301 10.5027C109.358 10.5027 111.201 10.9787 112.831 11.9306C114.46 12.8825 115.729 14.1781 116.638 15.8176C117.546 17.457 118 19.2682 118 21.2514C118 23.261 117.546 25.0854 116.638 26.7248C115.729 28.3642 114.46 29.6533 112.831 30.592C111.201 31.5307 109.358 32 107.301 32C105.244 32 103.4 31.5307 101.771 30.592C101.488 30.4288 101.215 30.2551 100.954 30.0707C100.581 30.8374 99.7981 31.3655 98.8927 31.3655C97.6683 31.3655 96.6682 30.3996 96.6047 29.1841L96.6015 29.1839V2.3042L96.6031 2.21782C96.6483 0.985267 97.6561 0 98.8927 0ZM62.9333 0C64.1933 0 65.2147 1.0272 65.2147 2.29431V29.1839C65.2147 30.4511 64.1933 31.4783 62.9333 31.4783C61.702 31.4783 60.6986 30.4972 60.6536 29.27L60.652 29.1839V2.29431C60.652 1.0272 61.6734 0 62.9333 0ZM52.8345 10.5027C54.0568 10.5027 55.0546 11.4694 55.1131 12.6841L55.1158 12.6842V29.1839C55.0546 30.3987 54.0568 31.3654 52.8345 31.3654C51.6122 31.3654 50.6144 30.3987 50.5559 29.1841L50.5532 29.1839V12.6842C50.6144 11.4694 51.6122 10.5027 52.8345 10.5027ZM35.3561 10.5027C40.2693 10.5027 44.2806 14.3859 44.5212 19.267C44.5273 19.3338 44.5303 19.4017 44.5303 19.4703V29.0612C44.5303 30.3338 43.5045 31.3654 42.2391 31.3654C40.9737 31.3654 39.9479 30.3338 39.9479 29.0612L39.9478 19.5193L39.9426 19.5195C39.8395 17.0607 37.8248 15.0992 35.3546 15.0992C32.8844 15.0992 30.8697 17.0607 30.7666 19.5195L30.7619 19.5193L30.762 29.0612C30.762 30.3338 29.7362 31.3654 28.4708 31.3654C27.2054 31.3654 26.1796 30.3338 26.1796 29.0612V19.4703C26.1796 19.3814 26.1846 19.2937 26.1944 19.2074C26.4642 14.3544 30.4629 10.5027 35.3561 10.5027ZM81.2724 15.0992C80.1806 15.0992 79.1669 15.3474 78.2311 15.8438C77.2953 16.3401 76.548 17.0483 75.9891 17.9684C75.4303 18.8885 75.1508 19.9781 75.1508 21.2371C75.1508 22.4962 75.4303 23.5918 75.9891 24.524C76.548 25.4562 77.2953 26.1705 78.2311 26.6668C79.1669 27.1632 80.1806 27.4114 81.2724 27.4114C82.3641 27.4114 83.3779 27.1632 84.3137 26.6668C85.2495 26.1705 85.9968 25.4562 86.5556 24.524C87.1145 23.5918 87.3939 22.4962 87.3939 21.2371C87.3939 19.9781 87.1145 18.8885 86.5556 17.9684C85.9968 17.0483 85.2495 16.3401 84.3137 15.8438C83.3779 15.3474 82.3641 15.0992 81.2724 15.0992ZM107.301 15.0992C106.209 15.0992 105.195 15.3474 104.259 15.8438C103.324 16.3401 102.576 17.0483 102.017 17.9684C101.459 18.8885 101.179 19.9781 101.179 21.2371C101.179 22.4962 101.459 23.5918 102.017 24.524C102.576 25.4562 103.324 26.1705 104.259 26.6668C105.195 27.1632 106.209 27.4114 107.301 27.4114C108.392 27.4114 109.406 27.1632 110.342 26.6668C111.278 26.1705 112.025 25.4562 112.584 24.524C113.143 23.5918 113.422 22.4962 113.422 21.2371C113.422 19.9781 113.143 18.8885 112.584 17.9684C112.025 17.0483 111.278 16.3401 110.342 15.8438C109.406 15.3474 108.392 15.0992 107.301 15.0992Z"
                  fill="black"></path>
            <path
              d="M52.8346 6.88257C54.0945 6.88257 55.1159 5.85537 55.1159 4.58826C55.1159 3.32114 54.0945 2.29395 52.8346 2.29395C51.5746 2.29395 50.5532 3.32114 50.5532 4.58826C50.5532 5.85537 51.5746 6.88257 52.8346 6.88257Z"
              fill="url(#logo-gradient)"></path>
            <defs>
              <linearGradient id="logo-gradient" x1="53.5026" y1="-2.48459" x2="46.2097" y2="3.80176"
                              gradientUnits="userSpaceOnUse">
                <stop stop-color="#FFE6D4"></stop>
                <stop offset="1" stop-color="#FF1C8C"></stop>
              </linearGradient>
            </defs>
          </svg>
        </RouterLink>
        <button onClick={()=>changeLanguage('en')}>en</button>
        <button onClick={()=>changeLanguage('ru')}>ru</button>
        <div className={classes.flexGrow} />
        <Hidden mdDown>
          <IconButton color="inherit">
            <Badge
              badgeContent={notifications.length}
              color="primary"
              variant="dot"
            >
              <NotificationsIcon />
            </Badge>
          </IconButton>
          <IconButton
            className={classes.signOutButton}
            color="inherit"
          >
            <InputIcon />
          </IconButton>
        </Hidden>
        <Hidden lgUp>
          <IconButton
            color="inherit"
            onClick={onSidebarOpen}
          >
            <MenuIcon />
          </IconButton>
        </Hidden>
      </Toolbar>
    </AppBar>
  );
};

Topbar.propTypes = {
  className: PropTypes.string,
  onSidebarOpen: PropTypes.func
};

export default Topbar;
